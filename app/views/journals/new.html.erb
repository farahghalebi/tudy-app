<% content_for :body_class, "crumbled-paper" %>

<%# Previous journals %>
<% older_journal = Journal.all.order(created_at: :desc).first %>

<div class="journal-new-page"
     data-controller="swipe"
     data-swipe-right-url-value="<%= root_path %>"
     data-swipe-left-url-value="<%= todos_path %>"
     data-swipe-up-url-value="<%= journal_path(older_journal) %>">
  <h1>a penny for your thought...</h1>

  <div class="journal-form-wrapper">
    <%= simple_form_for @journal, html: { class: "journal-form", data: { action: "input->form-validation#toggleSubmitButton" } } do |f| %>

      <%= f.error_notification %>

      <%= f.input :content,
                  as: :text,
                  label: false,
                  placeholder: "What's on your mind?",
                  input_html: { class: "journal-input", data: { "form-validation-target": "input" } } %>

      <%# ??? How can we style the right button - ideally like show page ??? %>
      <%= f.button :submit,
                  "Todos >",
                  class: "button-swipe",
                  data: { "form-validation-target": "submit" } %>

      <%= f.input :file,
                  as: :file,
                  label: "Upload a file (PDF, image)"%>

    <% end %>
  </div>

    <%# Swipe Buttons %>
    <div class="swipe-button-box left">
      <%= link_to "Journals", root_path, class: "button-swipe" %>
    </div>

    <!-- ??? This Button goes down to older Journals, but it overlays the file upload at the moment
    <% if older_journal %>
      <div class="swipe-button-box down">
        <%= link_to "Next Journal", journal_path(older_journal), class: "button-swipe" %>
      </div>
    <% end %> -->

</div>
