<% content_for :body_class, "crumbled-paper" %>

<%# Previous/next journals %>
<% older_journal = Journal.where("created_at < ?", @journal.created_at).order(created_at: :desc).first %>
<% newer_journal = Journal.where("created_at > ?", @journal.created_at).order(created_at: :asc).first %>

<div class="journal-new-page">
  <h1><%= @journal.created_at.strftime("%B %d, %Y") %></h1>

  <div class="journal-form-wrapper">
    <h3><%= @journal.title %></h3>
    <p><%= @journal.content %></p>

    <% if @journal.summary.present? %>
      <p><strong>Journal Summary:</strong> <%= @journal.summary %></p>
    <% end %>

    <% if @journal.tags.any? %>
      <p><strong>Tags:</strong></p>
      <ul class="list-unstyled">
        <% @journal.tags.each do |tag| %>
          <li>#<%= tag.name %> - <%= tag.content %></li>
        <% end %>
      </ul>
    <% end %>

    <%# Swipe Buttons %>
    <div class="swipe-button-box left">
      <%= link_to "Journals", journals_path(journal_id: @journal.id), class: "button-swipe" %>
    </div>

    <div class="swipe-button-box right">
      <%= link_to "Todos", todos_path(journal_id: @journal.id), class: "button-swipe" %>
    </div>

    <div class="swipe-button-box up">
      <% if newer_journal %>
        <%= link_to "Previous Journal", journal_path(newer_journal), class: "button-swipe" %>
      <% else %>
        <%= link_to "New Journal", new_journal_path, class: "button-swipe" %>
      <% end %>
    </div>

    <% if older_journal %>
      <div class="swipe-button-box down">
        <%= link_to "Next Journal", journal_path(older_journal), class: "button-swipe" %>
      </div>
    <% end %>

  </div>
</div>
