<%# Find the previous (older) journal by date %>
<% older_journal = Journal.where("created_at < ?", @journal.created_at).order(created_at: :desc).first %>

<%# --- Screen wrapper (mobile vibe) --- %>
<div style="
  min-height: 100vh;
  background:#f2f4f7;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:16px 12px 96px; /* keep space for bottom bar */
">

  <%# --- Phone card display --- %>
  <div style="
    width:100%;
    max-width:420px;
    background:#fff;
    border-radius:16px;
    box-shadow:0 8px 24px rgba(0,0,0,0.08);
    padding:20px 16px;
    text-align:center;
  ">
    <div style="margin-bottom:12px;">
      <%= link_to "ðŸ  Back to Home", root_path, class: "btn btn-secondary" %>
    </div>

    <h1 style="font-size:20px; margin:0 0 4px;">
      <%= @journal.created_at.strftime("%B %d, %Y") %>
    </h1>
    <h2 style="font-size:18px; font-weight:600; margin:0 0 16px;">
      <%= @journal.title %>
    </h2>

    <div style="">
      <p style="white-space:pre-wrap; margin:0 0 12px;">
        <%= @journal.content %>
      </p>

      <% if @journal.summary.present? %>
        <p style="margin:12px 0 0;">
          <strong>Summary:</strong>
          <span><%= @journal.summary %></span>
        </p>
      <% end %>
    </div>
  </div>
</div>

<%# --- Fixed, centered bottom bar with a persistent â€œOlder journalâ€ button --- %>
<div style="
  position:fixed; bottom:0; left:0; right:0;
  background:#ffffff; border-top:1px solid #e6e8eb;
  padding:12px; display:flex; justify-content:center; z-index:999;
">
  <div style="width:100%; max-width:420px; display:flex; justify-content:center;">
    <% if older_journal %>
      <%= link_to "â¬…ï¸  your Older journal (#{older_journal.created_at.strftime('%b %d, %Y')})",
                  journal_path(older_journal),
                  class: "btn btn-primary",
                  style: "width:90%; max-width:360px; text-align:center;" %>
    <% else %>
      <button class="btn btn-primary" disabled
              style="width:90%; max-width:360px; text-align:center; opacity:0.6; cursor:not-allowed;">
         No older journal
      </button>
    <% end %>
  </div>
</div>
